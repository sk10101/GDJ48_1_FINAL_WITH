<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">	
<mapper namespace="com.with.member.dao.MemberDAO">

	<select id="mblist" resultType="hashmap">
		SELECT member_id, name, gender, university_idx, phone, email FROM member WHERE member_id = #{param1}
	</select>
	
	<select id="univer" resultType="String">
		SELECT university_name FROM university WHERE university_idx = #{param1}
	</select>
	
	<update id="update">
      UPDATE member SET member_pw=#{param1},phone=#{param2},hide=#{param3} WHERE member_id = #{param4}
    </update>
   
    <select id="macnt" resultType="int">
    	SELECT count(assessor) FROM manner_assess WHERE member_id = #{param1}
    </select>
    
    <select id="average" resultType="int">
    	SELECT sum(manner_score) FROM manner_assess WHERE member_id = #{param1} AND category_id = '${param2}'
    </select>
    
    <select id="madetail" resultType="manner">
    	SELECT manner_score FROM manner_assess WHERE member_id = #{param1} AND category_id = #{param2} ORDER BY assess_date DESC;
    </select>
</mapper>
